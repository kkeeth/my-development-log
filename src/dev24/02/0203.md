# 0203

## ログ

- 昨日に続き，`riotjs, vite, tailwindcss, typescript` でチャットアプリ開発
- まだ開発環境の時点でコケている

  - riot を typescript で書きたいが，`.riot` ファイルのコンパイルができない
  - `tsconfig.json` をちょっといじる

    ```diff
    -  "include": ["src"]
    +  "include": ["**/*.ts", "src/**/*.riot", "global.d.ts"],
    +  "exclude": ["node_modules"]
    ```

  - まだだめ
  - 続いて `vite.config.ts` をちょっといじる

    ```diff
    -  plugins: [
    -    riotPlugin(),
    -    typescript()
    -  ]
    +  root: process.cwd(),
    +  plugins: [riotPlugin(), typescript()],
    +  build: {
    +    outDir:
    +      "dist" /** https://vitejs.dev/config/build-options.html#build-outdir */,
    +    minify:
    +      "esbuild" /** https://vitejs.dev/config/build-options.html#build-minify */,
    +    target:
    +      "esnext" /** https://vitejs.dev/config/build-options.html#build-target */,
    +  },
    ```

  - まだあかん
  - そもそも riot のコンパイルが行われてはいるが，ts のコンパイルがなされていない
  - これあれか．`@riotjs/compiler` で明示的に ts のコンパイル関数書かないといけなかったっけ
    - `pre-processor` ってやつ
    - そういえば `@riotjs/hot-reload` 入れてなかった
    - なんか typescript の example 見ているが，別に pre-processor 書いてないな
    -
